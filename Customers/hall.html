<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>Home</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>


    <style>
        body
        {
            background: url(../images/52.jfif);
            background-repeat: no-repeat;
            background-size: cover;
            min-width: 80%;
            height: 100%;
            /*background-attachment: fixed;*/
            /*background-position: center;*/
        }
        .card
        {
            background: transparent;
            border: none;   
        }

        .box
        {
            width: 45%;
            background: white; 
        }

        .form-control
        {
            border:  none;
            border-bottom: 1px solid black;
             border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }

        .form-control:focus
        {
            box-shadow: none;
            border-bottom: 1px solid black;
           
        }
        .btn
        {
            color: white;
            margin: auto;
            display: grid;
            place-items: center;
        }

        @media (max-width: 991px)
            {
                .box{
                    width: 100% !important;
                }
            }
    </style>

</head>
<body onload="arranger()">
    <div class="container-fluid">
        <input type=""id="nc" name="" style="display:none;">
        <input type="" id="npr" name="" style="display:none">

        <center>    
            <div class="card my-3 box">
                <h3 class="card-header ">Selected Chairs Details</h3>
                <br>
                <p id="message" class="text-danger"></p>
                <div class="card-body">
                    <div class="row">  
                        <div class="col-lg-6">    
                            <input type="text" name="" placeholder="Total" class="form-control" id="p1">
                        </div>

                        <div class="col-lg-6">
                            <input type="text" name="" placeholder="Search for Number of chair" class="form-control search">
                        </div>
                    </div>
                    <br>
                <a>
                    <button class="btn btn-primary " onclick="pay()">Proceed</button>
                </a>
                </div>
                <div class="card-footer text-muted text-center">@FEMZY B Cinema</div>
            </div>
        </center>

    
        <table  style="width: fit-content;">
                <tbody id="hall"></tbody>
            
        </table>
        

    </div>
 

</body>
</html>
</body>
</html>
<script>
  

arranger=()=> 
        {
          var char =JSON.parse(window.localStorage.getItem("chair")) ;
          nc.value = char.fv
          npr.value=char.sv


           var chair ='';
            noOfChair = nc.value;
            noPerRow = npr.value;
            cArranged = 0;

            chair = '<tr>'
            for (let x = 0; x < noOfChair; x++) {
                chair += `<td> 
                <img src="../images/44.png" alt="" width="200" height="250" class="card" onclick="put(${x}, this)" id="image">
                <button class="btn btn-success" id="sit" onclick="show(${x}, this)">SEAT ${x+1}</button>
                </td>`;
                cArranged++;
                if (cArranged == noPerRow) {
                    chair += '</tr><tr>';
                    cArranged = 0;
                }
            }
            chair += '</tr>';
            document.getElementById("hall").innerHTML = chair;
        }
            
        show=(x, element)=>
        {
         value =x;

        var sit = 1000;
         p1.value = Number(p1.value)+Number(sit);
         $(element).prop('disabled', true);
            // $(img,element).fadeOut(2000);     
               }
       pay=()=>
       {
        if (p1.value == "") 
        {
            // alert("nhhd");
            message.innerHTML = "Kindly book seat before you can proceed";
        }
        else
        {
         let pay = [];
         let money = { 
           "amount" :p1.value,  
          };
           pay.push(money);
           window.localStorage.Pay = JSON.stringify(money);
           location.replace("payment.html")
          
       }
   }

    $(document).ready(function(){
    $(".search").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#hall span").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
      // document.getElementById(".search").focus();      
      $("img").fadeOut();

       // $(".img").show();

    });
  });
});
</script>