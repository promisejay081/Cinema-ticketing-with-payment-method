<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>Home</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  

</head>
  <body>
  <div class="container my-5 w-25 ">
    <div class="card p-5 border-5">
      <form id="paymentForm">
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email-address" required / class="form-control" placeholder="Email Address">
      </div>
      <div class="form-group">
        <label for="amount">Amount</label>
        <input type="tel" id="amount" required / readonly class="form-control">
      </div>
      <div class="form-group">
        <label for="first-name">First Name</label>
        <input type="text" id="first-name" / class="form-control">
      </div>
      <div class="form-group">
        <label for="last-name">Last Name</label>
        <input type="text" id="last-name" / class="form-control">
      </div>
      <div class="form-submit">
        <button type="submit" onclick="payWithPaystack()" class="btn btn-primary"> Pay </button>
      </div>
    </form>
    </div>
  </div>
<script src="https://js.paystack.co/v1/inline.js"></script> 

    </body>
</html>

    <script>	
     pay =JSON.parse(window.localStorage.getItem("Pay"));
      amount.value=pay.amount;
    
	const paymentForm = document.getElementById('paymentForm');
	paymentForm.addEventListener("submit", payWithPaystack, false);
	function payWithPaystack(e) {
	  e.preventDefault();
	  let handler = PaystackPop.setup({
	    key: 'pk_test_fc205cf37c4eac79757f102a4e1864dd2e0f921f', // Replace with your public key
	    email: document.getElementById("email-address").value,
	    amount: document.getElementById("amount").value * 100,
	    ref: ''+Math.floor((Math.random() * 1000000000) + 1), // generates a pseudo-unique reference. Please replace with a reference you generated. Or remove the line entirely so our API will generate one for you
	    // label: "Optional string that replaces customer email"
	    onClose: function(){
	      alert('Window closed.');
	    },
	    callback: function(response){
	      let message = 'Payment complete! Reference: ' + response.reference;
	      alert(message);
      window.open("video.html")
	    }
	  });
	  handler.openIframe();
	}
</script>